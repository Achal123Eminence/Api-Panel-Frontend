<section class="add-competition-container">
    <h1>Add Manual Competition</h1>
    <form [formGroup]="competitionForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
            <label for="option01">Select Sport Type</label>
            <select class="form-select" formControlName="sportId">
                <option value=""> Select Sport </option>
                <option *ngFor="let sport of sports" [value]="sport.id">
                    {{ sport.name }}
                </option>
            </select>
        </div>
        <div class="form-group">
            <label for="option01">Competition Id</label>
            <input class="form-control" formControlName="competitionId" readonly />
        </div>
        <div class="form-group">
            <label for="option01">Competition Name</label>
            <input class="form-control" formControlName="competitionName" (keypress)="allowAlphaNumeric($event)" (paste)="onAlphaNumericPaste($event)" placeholder="Enter Competition Name" />
        </div>
        <div class="form-group">
            <label for="option01">Select Competition Type</label>
            <select class="form-select" formControlName="competitionType">
                <option value=""> Select Competition Type </option>
                <option *ngFor="let type of competitionTypes" [value]="type.id">
                    {{ type.name }}
                </option>
            </select>
        </div>
        <div class="form-group">
            <label for="option01">Open Date</label>
            <input type="datetime-local" class="form-control" formControlName="openDate" />
        </div>
        <div class="button-submit" type="submit" >
            <button [disabled]="competitionForm.invalid" class="submit-btn">Submit</button>
        </div>
    </form>
</section>

<!-- Search & Page Size -->
<div class="table-responsive" style="box-shadow: #000 0 2px 6px;" *ngIf="maunalCompetitionList().length > 0">
    <!-- Table -->
    <table class="table table-striped mb-0">
      <thead>
        <tr>
          <th scope="col">Sr.No</th>
          <th scope="col">Cmpt ID</th>
          <th scope="col">Cmpt Name</th>
          <!-- <th scope="col">Cmpt Region</th> -->
          <th scope="col">Sports Name</th>
          <!-- <th scope="col">Event Count</th> -->
          <!-- <th scope="col">Market Count</th> -->
          <th scope="col">Action</th>
        </tr>
      </thead>
      <tbody>
        @for (item of maunalCompetitionList(); track $index) { 
          <tr>
            <th scope="row">{{ ($index + 1) }}</th>
            <td>{{item.competitionId}}</td>
            <td>{{item.competitionName}}</td>
            <!-- <td>{{item.competitionRegion}}</td> -->
            <td>{{ item.sportId === '4' ? 'Cricket' : item.sportId === '1' ? 'Soccer' : item.sportId === '2' ? 'Tennis' : '' }}</td>
            <!-- <td>{{item.eventCount}}</td> -->
            <!-- <td>{{item.marketCount}}</td> -->
            <td>
              <button class="hide-btn" [disabled]="!item.status" [ngStyle]="{ 'background-color': !item.status ? '#04363a' : '' }"
                (click)="updateManualComeptiiton(item._id)">
                {{ item.status ? 'Hide' : 'Hidden' }}
              </button>
            </td>
          </tr>
        }
      </tbody>
    </table>
</div>